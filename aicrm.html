<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI CRM — Demo Panel (Research-backed) | RH Agency</title>
  <meta name="description" content="RH Agency AI CRM demo: add credit, run AI niche + location selection, and launch to Google & Meta with production-ready best-practice notes." />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{--bg:#060712;--card:#071126;--accent1:#7c3aed;--accent2:#06b6d4}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#02020a,var(--bg));color:#e6eef8}
    .panel{background:linear-gradient(180deg,#071028,#081127);border:1px solid rgba(255,255,255,0.03);border-radius:12px;padding:16px;box-shadow:0 12px 40px rgba(2,6,23,0.6)}
    .btn{padding:10px 14px;border-radius:10px;font-weight:700}
    .btn-primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white}
    .muted{color:#9aa7b8;font-size:13px}
    .chip{background:rgba(255,255,255,0.03);padding:6px 10px;border-radius:999px;font-weight:600}
    pre {background:rgba(0,0,0,0.25);padding:10px;border-radius:8px;font-size:12px}
  </style>
</head>
<body class="p-6">
  <div class="max-w-7xl mx-auto">
    <header class="flex items-center justify-between mb-6">
      <div class="flex items-center gap-4">
        <div class="w-12 h-12 rounded-lg flex items-center justify-center" style="background:linear-gradient(135deg,var(--accent1),var(--accent2));font-weight:800">RH</div>
        <div>
          <div class="text-xl font-bold">AI CRM — Demo Panel (Research-backed)</div>
          <div class="text-xs muted">Includes suggested starting bids, budgets and local targeting best-practices.</div>
        </div>
      </div>
      <div class="flex items-center gap-4">
        <div class="text-sm muted">Balance</div>
        <div id="balance" class="chip">₹ 0</div>
        <button onclick="showAddCredit(true)" class="btn btn-primary">Top-up</button>
      </div>
    </header>

    <main class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Connectors + Research panel -->
      <aside class="panel lg:col-span-1">
        <h3 class="font-bold">Connectors & Research</h3>
        <p class="muted mt-2">Simulate OAuth connections to Google Ads & Meta. Below are research-backed starting points we use to seed AI suggestions.</p>

        <div class="mt-4 space-y-3">
          <div class="flex items-center justify-between"><div>Google Ads</div><button id="gBtn" onclick="connect('google')" class="px-3 py-1 rounded bg-white/6">Connect</button></div>
          <div class="flex items-center justify-between"><div>Meta (FB+IG)</div><button id="mBtn" onclick="connect('meta')" class="px-3 py-1 rounded bg-white/6">Connect</button></div>
          <div class="mt-4">
            <div class="font-semibold">Benchmarks we use</div>
            <ul class="mt-2 text-xs muted list-disc list-inside space-y-1">
              <li>Google Search CPC (local services): ₹15–₹45 / click (use conservative bids per niche). </li>
              <li>Meta CPC (India median): ~₹5–₹20 per click depending on placement and format.</li>
              <li>Recommended starter ad spend for small local businesses: ₹10,000–₹50,000 / mo.</li>
              <li>Use radius targeting (1km+) & GBP verification for Local Campaigns.</li>
            </ul>
            <div class="text-xs muted mt-3">Sources: industry benchmarks & platform docs (linked in page notes).</div>
          </div>
        </div>
      </aside>

      <!-- Center: configuration & AI -->
      <section class="panel lg:col-span-2">
        <div class="flex items-center justify-between mb-4">
          <div>
            <h2 class="font-bold text-lg">Configure Goal & Budget</h2>
            <div class="muted">Set intent, monthly budget and locations — AI will propose niches + bids.</div>
          </div>
          <div class="muted">Demo mode — no live API calls</div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-4">
          <div>
            <label class="text-xs muted">Monthly Ad Budget (₹)</label>
            <input id="budget" type="number" value="30000" class="w-full mt-1 p-2 bg-black/20 rounded" />
          </div>
          <div>
            <label class="text-xs muted">Primary Objective</label>
            <select id="objective" class="w-full mt-1 p-2 bg-black/20 rounded">
              <option value="leads">Leads</option>
              <option value="calls">Calls / Bookings</option>
              <option value="traffic">Website Visits</option>
            </select>
          </div>
          <div>
            <label class="text-xs muted">Target Locations (comma-separated)</label>
            <input id="locations" type="text" value="Mira Road, Thane" class="w-full mt-1 p-2 bg-black/20 rounded" />
          </div>
        </div>

        <div class="flex items-center gap-3 mb-4">
          <label class="muted">Aggression</label>
          <select id="aggression" class="p-2 bg-black/20 rounded">
            <option value="conservative">Conservative</option>
            <option value="balanced" selected>Balanced</option>
            <option value="aggressive">Aggressive</option>
          </select>
          <button class="btn btn-primary" onclick="runAI()">Run AI & Suggest</button>
          <button class="px-3 py-2 rounded bg-white/6" onclick="clearSuggestions()">Clear</button>
        </div>

        <!-- AI results -->
        <div id="results" class="space-y-4"></div>

        <!-- Campaigns list & launch -->
        <div id="campaignsSection" class="hidden mt-4 border-t border-gray-800 pt-4">
          <h3 class="font-semibold">Campaign Plan</h3>
          <div id="campaigns" class="mt-3 space-y-3"></div>

          <div class="mt-4 flex items-center gap-3">
            <button class="btn btn-primary" onclick="previewLaunch()">Preview Launch (Simulate API Calls)</button>
            <button class="px-3 py-2 rounded bg-white/6" onclick="exportPlan()">Export Plan</button>
          </div>
        </div>
      </section>
    </main>

    <!-- Modals & previews -->
    <div id="addCredit" class="fixed inset-0 hidden items-center justify-center bg-black/60 z-50">
      <div class="bg-[#071126] p-6 rounded-lg w-full max-w-md">
        <h4 class="font-bold">Add Credit (Demo)</h4>
        <div class="muted text-xs mt-1">Simulated UPI/Card add — used to show spend logic.</div>
        <div class="mt-3">
          <input id="addAmt" type="number" value="20000" class="w-full p-2 bg-black/20 rounded" />
        </div>
        <div class="mt-4 flex justify-end gap-2">
          <button onclick="showAddCredit(false)" class="px-3 py-2 rounded bg-white/6">Cancel</button>
          <button onclick="confirmAdd()" class="btn btn-primary">Confirm</button>
        </div>
      </div>
    </div>

    <div id="previewModal" class="fixed inset-0 hidden items-center justify-center bg-black/60 z-50">
      <div class="bg-[#071126] p-6 rounded-lg w-full max-w-3xl">
        <h4 class="font-bold">Launch Preview</h4>
        <p class="muted text-xs">This preview shows the API orchestration the panel would perform (simulated). Review before confirm.</p>
        <pre id="previewContent" class="mt-3 h-60 overflow-auto"></pre>
        <div class="mt-4 flex justify-end gap-2">
          <button onclick="closePreview()" class="px-3 py-2 rounded bg-white/6">Back</button>
          <button onclick="executeLaunch()" class="btn btn-primary">Confirm & Simulate Launch</button>
        </div>
      </div>
    </div>

    <footer class="mt-6 text-xs muted">Notes: Benchmarks and recommendations are based on recent industry reports and platform docs. Production integration requires server-side OAuth, encrypted token vault, spend controls, and webhook-based lead plumbing.</footer>
  </div>

  <script>
    // research-backed default ranges used by AI
    const bench = {
      google: {cpc_low:15, cpc_high:45}, // ₹ per click
      meta: {cpc_low:5, cpc_high:20},
      smallBudgetMin:10000,
      smallBudgetMax:50000
    };

    const state = {connected:{}, balance:0, suggestions:[], campaigns:[]};

    function showAddCredit(show){ const el=document.getElementById('addCredit'); if(show){el.classList.remove('hidden');el.classList.add('flex')}else{el.classList.remove('flex');el.classList.add('hidden')} }
    function confirmAdd(){ const v=Number(document.getElementById('addAmt').value||0); state.balance += v; document.getElementById('balance').textContent='₹ '+state.balance.toLocaleString(); log('Added credit ₹'+v); showAddCredit(false); }

    function connect(which){ state.connected[which]=true; document.getElementById(which==='google'?'gBtn':'mBtn').textContent='Connected'; log('Connected '+which+' (demo)'); }

    function log(msg){ const d=new Date().toLocaleTimeString(); const el=document.getElementById('previewContent'); if(el) el.textContent = d+' — '+msg + '\n' + (el.textContent||''); }

    function runAI(){
      const budget = Number(document.getElementById('budget').value||0);
      const objective = document.getElementById('objective').value;
      const locations = document.getElementById('locations').value;
      const aggression = document.getElementById('aggression').value;

      // validate budget vs recommended
      const note = document.createElement('div'); note.className='p-3 bg-black/20 rounded';
      if(budget < bench.smallBudgetMin) note.innerHTML = '<strong class="text-yellow-300">Note:</strong> Budget below recommended minimum of ₹'+bench.smallBudgetMin;
      else if(budget > bench.smallBudgetMax) note.innerHTML = '<strong class="text-green-300">Good:</strong> Budget in recommended range.';

      // simple AI selection logic (research-seeded)
      const pool = [
        {niche:'Salon & Beauty', googleCPC:20, metaCPC:6, estCPL:350},
        {niche:'Dental Clinic', googleCPC:40, metaCPC:10, estCPL:900},
        {niche:'Local Cafe', googleCPC:8, metaCPC:3, estCPL:120},
        {niche:'Auto Repair', googleCPC:15, metaCPC:5, estCPL:300},
        {niche:'Gym & Fitness', googleCPC:12, metaCPC:4, estCPL:250}
      ];

      // score picks by fit (budget, objective)
      const scored = pool.map(p=>{ let score = 0; if(budget>30000) score +=2; if(objective==='calls' && p.niche.includes('Salon')) score+=1; if(aggression==='aggressive') score +=1; return {...p,score}; }).sort((a,b)=>b.score-a.score);
      const picks = scored.slice(0,3);
      state.suggestions = picks;                                                                         

      // render
      const rdiv = document.getElementById('results'); rdiv.innerHTML=''; rdiv.appendChild(note);
      const list = document.createElement('div'); list.className='grid grid-cols-1 md:grid-cols-3 gap-3 mt-3';
      picks.forEach((p,idx)=>{
        const card = document.createElement('div'); card.className='p-3 bg-[#071126] rounded';
        card.innerHTML = `<div class='font-semibold'>${p.niche}</div><div class='muted text-xs mt-1'>Est Google CPC: ₹${p.googleCPC} · Meta CPC: ₹${p.metaCPC}</div><div class='text-xs mt-2'>Est CPL: ₹${p.estCPL}</div><div class='mt-3'><button onclick="selectForCampaign(${idx})" class='px-3 py-1 rounded bg-white/6 text-xs'>Create Campaign</button></div>`;
        list.appendChild(card);
      });
      rdiv.appendChild(list);
      document.getElementById('campaignsSection').classList.remove('hidden');
      log('AI suggested '+picks.map(p=>p.niche).join(', ')+ ' for '+locations);
      renderCampaigns();
    }

    function selectForCampaign(i){ const s=state.suggestions[i]; if(!s) return; const daily = Math.max(200, Math.round((Number(document.getElementById('budget').value||30000)/30) * (1/(i+1))));
      state.campaigns.push({id:Date.now()+''+i,name:s.niche,daily,googleBid:s.googleCPC,metaBid:s.metaCPC,estCPL:s.estCPL}); renderCampaigns(); log('Added campaign: '+s.niche); }

    function renderCampaigns(){ const el=document.getElementById('campaigns'); if(!el) return; el.innerHTML=''; state.campaigns.forEach(c=>{ const row=document.createElement('div'); row.className='p-3 bg-black/20 rounded flex items-center justify-between'; row.innerHTML=`<div><div class='font-semibold'>${c.name}</div><div class='muted text-xs'>Daily ₹${c.daily} • Est CPL ₹${c.estCPL}</div></div><div><button onclick="edit('${c.id}')" class='px-2 py-1 rounded bg-white/6 text-xs mr-2'>Edit</button><button onclick="remove('${c.id}')" class='px-2 py-1 rounded bg-red-700 text-xs'>Remove</button></div>`; el.appendChild(row); }); }

    function edit(id){ alert('Open editor for '+id+' (demo)'); }
    function remove(id){ state.campaigns = state.campaigns.filter(c=>c.id!==id); renderCampaigns(); log('Removed campaign '+id); }

    function previewLaunch(){ const preview = {time:new Date().toLocaleString(),balance:state.balance, tokens:state.connected, campaigns:state.campaigns}; document.getElementById('previewContent').textContent = JSON.stringify(preview,null,2); document.getElementById('previewModal').classList.remove('hidden'); document.getElementById('previewModal').classList.add('flex'); }
    function closePreview(){ document.getElementById('previewModal').classList.remove('flex'); document.getElementById('previewModal').classList.add('hidden'); }

    function executeLaunch(){ // checks
      if(!state.connected.google || !state.connected.meta){ alert('Connect both Google & Meta accounts before launching (demo).'); log('Launch blocked — connectors missing'); closePreview(); return; }
      const weekSpend = state.campaigns.reduce((s,c)=>s + (c.daily*7),0);
      if(state.balance < weekSpend){ if(!confirm('Balance ₹'+state.balance+' is less than estimated 1-week spend ₹'+weekSpend+'. Continue?')){ log('Launch cancelled — insufficient balance'); closePreview(); return; } }

      // simulate API calls
      state.campaigns.forEach(c=>{
        log('Simulated: POST -> Google Ads API create campaign: '+c.name+' (daily ₹'+c.daily+', bid ₹'+c.googleBid+')');
        log('Simulated: POST -> Meta Marketing API create campaign: '+c.name+' (daily ₹'+c.daily+', bid ₹'+c.metaBid+')');
      });

      state.balance -= weekSpend; document.getElementById('balance').textContent='₹ '+state.balance.toLocaleString(); log('Launch executed — deducted ₹'+weekSpend+' from balance'); closePreview(); alert('Simulated launch complete — check preview log.'); }

    function exportPlan(){ const data={meta:{exported:new Date().toISOString()},campaigns:state.campaigns}; const blob=new Blob([JSON.stringify(data,null,2)],{type:'application/json'}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='rh-campaign-plan.json'; a.click(); URL.revokeObjectURL(url); log('Exported campaign plan'); }

    function clearSuggestions(){ state.suggestions=[]; document.getElementById('results').innerHTML=''; state.campaigns=[]; renderCampaigns(); document.getElementById('campaignsSection').classList.add('hidden'); }

    // init
    document.getElementById('previewContent').textContent = 'Demo audit log — actions will appear here.';
  </script>
</body>
</html>
